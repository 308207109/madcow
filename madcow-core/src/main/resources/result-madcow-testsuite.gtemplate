<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en" class="no-js"><!--<![endif]-->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Madcow Test Suite Report</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="layout" content="main"/>

    <link href="./.assets/bootstrap/css/bootstrap.css" rel="stylesheet"/>
    <link href="../.assets/madcow.css" rel="stylesheet"/>
    <link href="./.assets/bootstrap/css/bootstrap-responsive.css" rel="stylesheet"/>

</head>
<body>
    <div class="container">

        <div class="row">
            <div class="page-header">
                <h1>Madcow Test Suite Report</h1>
            </div>
        </div>

        <div class="row">
            <blockquote>
                <table>
                    <tbody>
                    <tr>
                        <td><p>Total Tests:</p></td>
                        <td><p><strong>${passedCount + failedCount}</strong></p></td>
                    </tr>
                    <tr>
                        <td><p>Total Time:</p></td>
                        <td><p><strong>${totalTime}</strong></p></td>
                    </tr>
                    </tbody>
                </table>
            </blockquote>
            <div class="progress progress-success" style="margin-bottom: 9px;">
                <div class="bar" style="width: ${passedCount / (passedCount + failedCount) * 100}%">${passedCount} passed</div>
            </div>
            <div align="right" class="progress progress-danger" style="margin-bottom: 9px;">
                <div class="bar" style="width: ${failedCount / (passedCount + failedCount) * 100}}%">${failedCount} failed</div>
            </div>
        </div>

        <div class="row">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Status</th>
                        <th>Test Case</th>
                        <th>Steps</th>
                        <th>Time</th>
                    </tr>
                </thead>
                <tbody>
                    <% testSuite.each{ testCase -> %>
                    <tr>
                        <% if (testCase.lastExecutedStep.result.failed()) { %>
                        <td><a class="btn btn-danger linkless"><i class="icon-remove icon-white"></i></a></td>
                        <% } else { %>
                        <td><a class="btn btn-success linkless"><i class="icon-ok icon-white"></i></a></td>
                        <% } %>
                        <td><a href="${testCase.name}/index.html">${testCase.name}</a></td>
                        <td>${testCase.lastExecutedStep.result.parseError() ? '-' : testCase.steps.size()}</td>
                        <td>${testCase.lastExecutedStep.result.parseError() ? '-' : testCase.getTotalTimeInSeconds() + 's'}</td>
                    </tr>
                    <% } %>
                </tbody>
            </table>
        </div>
    </div>
    <script src="./.assets/bootstrap/js/bootstrap.min.js" type="text/javascript" ></script>
    <script src="./.assets/jquery-1.7.2.min.js" type="text/javascript" ></script>
</body>
</html>